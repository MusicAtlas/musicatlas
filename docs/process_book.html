<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Atlas Process Book</title>
    <script src="public/js/jquery-3.1.1.min.js"></script>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="public/js/topojson.js"></script>

    <!-- BOOTSTRAP -->
    <link href="public/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <script src="public/bootstrap/js/bootstrap.min.js"></script>



    <link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="public/css/navbar-style.css">
    <link rel="stylesheet" href="public/css/main.css">

    <style>

        /*
        PDFObject appends the classname "pdfobject-container" to the target element.
        This enables you to style the element differently depending on whether the embed was successful.
        In this example, a successful embed will result in a large box.
        A failed embed will not have dimensions specified, so you don't see an oddly large empty box.
        */

        .pdfobject-container {
            float:none;
            /*width: 80%;*/
            /*max-width: 600px;*/
            height: 640px;
            margin: 2em auto;
        }

        .pdfobject { border: solid 1px #666; }
        #results { padding: 1rem; }
        .hidden { display: none; }
        .success { color: #4F8A10; background-color: #DFF2BF; }
        .fail { color: #D8000C; background-color: #FFBABA; }
    </style>

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">-->
    <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>-->
    <!--<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>-->
</head>
<body>

<header id="fh5co-header" role="banner">
    <nav class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <!-- Mobile Toggle Menu Button -->
                <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle" data-toggle="collapse" data-target="#fh5co-navbar" aria-expanded="false" aria-controls="navbar"><i></i></a>
                <a class="navbar-brand" href="index.html">musicatlas</a>
            </div>
            <div id="fh5co-navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="index.html"><span>Home <span class="border"></span></span></a></li>
                    <li class="active"><a href="process_book.html"><span>Process Book <span class="border"></span></span></a></li>
                    <li><a href="screencast.html"><span>Screencast<span class="border"></span></span></a></li>
                    <li><a href="about.html"><span>About <span class="border"></span></span></a></li>
                </ul>
            </div>
        </div>
    </nav>
</header>
<div class="container-fluid" style="margin-top: 70px;">

    <div class="row">
        <div class="btn-group-vertical col-sm-2" style="margin-top: 40px;">
            <a href="files/process_book.pdf" class="btn btn-success embed-link">How to use</a>
            <a href="files/process_book.pdf" class="btn btn-info embed-link">Process Book</a>
        </div>
        <div class="col-sm-10">
            <div id="pdf"></div>
        </div>
    </div>

    <!--<div id="results" class="hidden"></div>-->


</div>

<!--https://github.com/shprink/d3js-wordcloud/blob/master/word-cloud.js-->
<!--http://v4-alpha.getbootstrap.com/components/collapse/-->

</div>

<script>
    function toggleChevron(e) {
        $(e.target)
                .prev('.card-header')
                .find("i.indicator")
                .toggleClass('glyphicon-chevron-down glyphicon-chevron-up');
    }
    $('#accordion').on('hidden.bs.collapse', toggleChevron);
    $('#accordion').on('shown.bs.collapse', toggleChevron);
</script>


<script src="public/js/pdfobject.min.js"></script>
<script>

    var clickHandler = function (e){

        e.preventDefault();

        var pdfURL = this.getAttribute("href");

        var options = {
            pdfOpenParams: {
                navpanes: 1,
                page:1,
                toolbar: 0,
                statusbar: 1,
                view: "FitV"
            }
        };

        var myPDF = PDFObject.embed(pdfURL, "#pdf", options);

//        var el = document.querySelector("#results");
//        el.setAttribute("class", (myPDF) ? "success" : "fail");
//        el.innerHTML = (myPDF) ? "PDFObject successfully embedded '" + pdfURL + "'!" : "Uh-oh, the embed didn't work.";

    };


    $.each($(".embed-link"),function(index,item)
    {
        item.addEventListener("click",clickHandler);
    });

    console.log($(".btn"));
    $('.btn')[0].click();

</script>

</body>
</html>